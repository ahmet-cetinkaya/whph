name: whph
description: WHPH (Work Hard Play Hard) - A comprehensive productivity app designed to help you manage tasks, develop new habits, and optimize your time.
publish_to: "none"

environment:
  sdk: ">=3.5.0 <4.0.0"

topics:
  - productivity
  - task-management
  - habit-tracking
  - time-management
  - cross-platform

homepage: whph.ahmetcetinkaya.me
repository: https://github.com/ahmet-cetinkaya/whph
issue_tracker: https://github.com/ahmet-cetinkaya/whph/issues
documentation: https://github.com/ahmet-cetinkaya/whph/blob/main/README.md

# RPS (Runner Package Script) commands - install with: dart pub global activate rps
# Run commands from project root: rps <command>
scripts:
  # Development
  pub:get: cd src/presentation/app && fvm flutter pub get
  run: cd src/presentation/app && fvm flutter run
  run:demo: cd src/presentation/app && fvm flutter run --dart-define=DEMO_MODE=true
  clean: bash src/presentation/app/scripts/clean.sh
  clean:db: bash src/presentation/app/scripts/clean_db.sh
  format: bash scripts/format.sh
  lint: ./scripts/lint.sh
  check: rps format && rps lint && rps test

  # Testing
  test: bash src/presentation/app/scripts/run_tests.sh
  test:all: bash src/presentation/app/scripts/run_tests.sh
  test:locale: cd src/presentation/app && fvm flutter test ../../../tests/unit_tests/presentation/ui/shared/services/translation_analysis_test.dart
  test:migrate: cd src/presentation/app && fvm flutter test ../../../tests/unit_tests/core/application/features/settings/services/import_data_migration_service_test.dart
  test:migrate:db: cd src/presentation/app && fvm flutter test ../../../tests/unit_tests/infrastructure/persistence/shared/contexts/drift/migration_test.dart

  # Screenshots
  # Usage: rps gen:screenshots:device [locale] (e.g., rps gen:screenshots:device tr)
  gen:screenshots: cd src/presentation/app && bash scripts/generate_screenshots.sh ${1:---all} --
  gen:feature-graphics: cd scripts/feature_graphics_generator && bun run generate

  # Code Generation
  gen: cd src/presentation/app && bash scripts/generate_gen_files.sh
  gen:icons: cd src/presentation/app && fvm flutter pub run icons_launcher:create
  gen:migrate: cd src/presentation/app && fvm flutter pub run drift_dev make-migrations

  # Build Releases
  release:linux: cd src/presentation/app && fvm flutter build linux --release
  release:windows: cd src/presentation/app && fvm flutter build windows --release
  release:windows:setup: cd src/presentation/app && fvm flutter build windows --release && ISCC.exe windows\\setup-wizard\\installer.iss
  release:android: cd src/presentation/app && fvm flutter build apk --release
  release:android:bundle: cd src/presentation/app && fvm flutter build appbundle --release

  # Version Management
  version:major: bash scripts/version_bump.sh major
  version:minor: bash scripts/version_bump.sh minor
  version:patch: bash scripts/version_bump.sh patch
  version:push: git push && git push --tags

  # Changelog
  gen:changelog: bash scripts/create_changelog.sh --auto
  gen:changelog:all: bash scripts/create_changelog.sh --all-versions --auto

  # CI/CD
  test:ci: act -j build
  test:ci:android: act -W .github/workflows/flutter-ci.android.yml -j build --secret-file .secrets
  test:ci:linux: act -W .github/workflows/flutter-ci.linux.yml -j build --secret-file .secrets
  test:ci:windows: act -W .github/workflows/flutter-ci.windows.yml -j build --secret-file .secrets
  test:ci:fdroid: bash scripts/test_ci_fdroid.sh

  # Utilities
  install:linux: bash scripts/install-linux.sh
  validate:fastlane: bash scripts/validate-fastlane-metadata.sh
